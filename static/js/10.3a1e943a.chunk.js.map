{"version":3,"sources":["actions/logoutAction.js","utility/NavBar/NavBar.js","actions/openModal.js","pages/Login/Login.js","actions/regAction.js","pages/Login/SignUp.js"],"names":["x","type","NavBar","props","email","useSelector","state","auth","token","dispatch","useDispatch","useEffect","openModal","navColor","location","pathname","className","to","id","onClick","logoutAction","SignUp","Login","openClose","content","payload","useState","setEmail","password","setPassword","submitLogin","e","a","preventDefault","url","window","apiHost","data","axios","post","resp","msg","swal","title","text","icon","regAction","onSubmit","placeholder","onChange","target","value","regobj","changeEmail","setState","changePassword","showInputs","lowerPartOfForm","SignupInputFields","console","log","this","Component","connect","dispatcher","bindActionCreators"],"mappings":"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","file":"static/js/10.3a1e943a.chunk.js","sourcesContent":["function x() {\r\n  return {\r\n    type: \"LOGOUT\",\r\n  };\r\n}\r\nexport default x;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./NavBar.css\";\r\nimport openModal from \"../../actions/openModal\";\r\nimport logoutAction from \"../../actions/logoutAction\";\r\nimport Login from \"../../pages/Login/Login\";\r\nimport SignUp from \"../../pages/Login/SignUp\";\r\nfunction NavBar(props) {\r\n  const email = useSelector((state) => state.auth.email);\r\n  const token = useSelector((state) => state.auth.token);\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(openModal(\"closed\", \"\"));\r\n  }, [dispatch, token]);\r\n  // componentDidUpdate(oldProps) {\r\n  //   if (oldProps.auth.token !== this.props.auth.token) {\r\n  //     this.props.openModal(\"closed\", \"\");\r\n  //   }\r\n  // }\r\n\r\n  let navColor = \"transparent\";\r\n  if (props.location.pathname !== \"/\") {\r\n    navColor = \"#e08362\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-fluid nav\">\r\n      <div className=\"row\">\r\n        <nav className={navColor}>\r\n          <div className=\"nav-wrapper\">\r\n            <Link to=\"/\" className=\"logo left\">\r\n              airbnb\r\n            </Link>\r\n            <ul id=\"nav-mobile\" className=\"right\">\r\n              <li>\r\n                <Link to=\"/\">English (US)</Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/\">â‚¹ INR</Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/\">Become a host</Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/\">Help</Link>\r\n              </li>\r\n              {email ? (\r\n                <>\r\n                  <li className=\"login-signup\">\r\n                    <Link to=\"/account\"> {email}</Link>\r\n                  </li>\r\n                  <li\r\n                    onClick={() => {\r\n                      dispatch(logoutAction());\r\n                    }}\r\n                    className=\"login-signup\"\r\n                  >\r\n                    <Link to=\"/\"> Logout</Link>\r\n                  </li>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <li\r\n                    className=\"login-signup\"\r\n                    onClick={() => {\r\n                      dispatch(openModal(\"open\", <SignUp />));\r\n                    }}\r\n                  >\r\n                    Sign up{\" \"}\r\n                  </li>\r\n                  <li\r\n                    className=\"login-signup\"\r\n                    onClick={() => {\r\n                      dispatch(openModal(\"open\", <Login />));\r\n                    }}\r\n                  >\r\n                    Log in\r\n                  </li>\r\n                </>\r\n              )}\r\n            </ul>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n// function mapStateToProps(state) {\r\n//   return {\r\n//     auth: state.auth,\r\n//   };\r\n// // }\r\n// function mapDispatchToProps(dispatcher) {\r\n//   return bindActionCreators(\r\n//     {\r\n//       openModal: openModal,\r\n//       logoutAction: logoutAction,\r\n//     },\r\n//     dispatcher\r\n//   );\r\n// }\r\n// export default connect(mapStateToProps, mapDispatchToProps)(NavBar);\r\nexport default NavBar;\r\n","function x(openClose, content) {\r\n  return {\r\n    type: \"OPEN_MODAL\",\r\n    payload: {\r\n      openClose,\r\n      content,\r\n    },\r\n  };\r\n}\r\nexport default x;\r\n","import React, { useState } from \"react\";\r\nimport \"./Login.css\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport openModal from \"../../actions/openModal\";\r\nimport SignUp from \"./SignUp\";\r\nimport axios from \"axios\";\r\nimport swal from \"sweetalert\";\r\nimport regAction from \"../../actions/regAction\";\r\nfunction Login(props) {\r\n  const dispatch = useDispatch();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  //can access to the store directly\r\n  // const store = useStore();\r\n  // console.log(store.getState());\r\n  const submitLogin = async (e) => {\r\n    e.preventDefault();\r\n    ///get axios request\r\n    const url = `${window.apiHost}/users/login`;\r\n    const data = {\r\n      email: email,\r\n      password: password,\r\n    };\r\n    const resp = await axios.post(url, data);\r\n    // badPass = valid username, but wrong passwrod\r\n    // -- noEmail = email is not registered\r\n    if (resp.data.msg === \"badPass\") {\r\n      swal({\r\n        title: \"Invaid Password\",\r\n        text: \"The Password you provided is wrong\",\r\n        icon: \"error\",\r\n      });\r\n    } else if (resp.data.msg === \"noEmail\") {\r\n      swal({\r\n        title: \"Invalid Email\",\r\n        text: \"The Email you provided is not registered\",\r\n        icon: \"error\",\r\n      });\r\n    } else if (resp.data.msg === \"loggedIn\") {\r\n      swal({\r\n        title: \"Success\",\r\n\r\n        icon: \"success\",\r\n      });\r\n      //we call our register action to update our auth reducer\r\n      dispatch(regAction(resp.data));\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"login-form\">\r\n      <form onSubmit={submitLogin}>\r\n        <button className=\"facebook-login\">Connect With Facebook</button>\r\n        <button className=\"google-login\">Connect With Google</button>\r\n        <div className=\"login-or center\">\r\n          <span>or</span>\r\n          <div className=\"or-divider\"></div>\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          className=\"browser-default\"\r\n          placeholder=\"Email address\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          className=\"browser-default\"\r\n          placeholder=\"Password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <button type=\"submit\" className=\"sign-up-button\">\r\n          Login\r\n        </button>\r\n        <div className=\"divider\"></div>\r\n        <div>\r\n          Don't have an account?\r\n          <span\r\n            className=\"hand_Symbol\"\r\n            onClick={() => {\r\n              dispatch(openModal(\"open\", <SignUp />));\r\n            }}\r\n          >\r\n            Sign up\r\n          </span>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(Login);\r\nexport default Login;\r\n","function x(regobj) {\r\n  return {\r\n    type: \"REGISTER_ACTION\",\r\n    payload: regobj,\r\n  };\r\n}\r\nexport default x;\r\n","import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport openModal from \"../../actions/openModal\";\r\nimport regAction from \"../../actions/regAction\";\r\nimport Login from \"./Login\";\r\nimport swal from \"sweetalert\";\r\nclass SignUp extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      lowerPartOfForm: (\r\n        <button\r\n          type=\"button\"\r\n          onClick={this.showInputs}\r\n          className=\"sign-up-button\"\r\n        >\r\n          Sign up with email\r\n        </button>\r\n      ),\r\n    };\r\n  }\r\n  changeEmail = (e) => {\r\n    this.setState({\r\n      email: e.target.value,\r\n    });\r\n  };\r\n  changePassword = (e) => {\r\n    this.setState({\r\n      password: e.target.value,\r\n    });\r\n  };\r\n  showInputs = () => {\r\n    this.setState({\r\n      lowerPartOfForm: (\r\n        <SignupInputFields\r\n          changeEmail={this.changeEmail}\r\n          changePassword={this.changePassword}\r\n        />\r\n      ),\r\n    });\r\n  };\r\n  submitLogin = async (e) => {\r\n    e.preventDefault();\r\n    const url = `${window.apiHost}/users/signup`;\r\n    const data = {\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n    };\r\n    const resp = await axios.post(url, data);\r\n    const token = resp.data.token;\r\n    console.log(token);\r\n    ////////////////\r\n    //resp.data.msg could be\r\n    //invalidData\r\n    //userExists\r\n    //userAdded\r\n    if (resp.data.msg === \"userExists\") {\r\n      swal({\r\n        title: \"Email Exists\",\r\n        text: \"The Email you provided is already registered\",\r\n        icon: \"error\",\r\n      });\r\n    } else if (resp.data.msg === \"invalidData\") {\r\n      swal({\r\n        title: \"Invalid Data\",\r\n        text: \"Please provide valid Email and password\",\r\n        icon: \"error\",\r\n      });\r\n    } else if (resp.data.msg === \"userAdded\") {\r\n      swal({\r\n        title: \"Success!\",\r\n        text: \"Your account is created \",\r\n        icon: \"success\",\r\n      });\r\n      //we call reAction to update regReducer\r\n      this.props.regAction(resp.data);\r\n    }\r\n    // const url2 = `${window.apiHost}/users/token-check`;\r\n    // const resp2 = await axios.post(url2, { token });\r\n    // console.log(resp2.data);\r\n  };\r\n  render() {\r\n    console.log(this.props.auth);\r\n    return (\r\n      <div className=\"login-form\">\r\n        <form onSubmit={this.submitLogin}>\r\n          <button className=\"facebook-login\">Connect With Facebook</button>\r\n          <button className=\"google-login\">Connect With Google</button>\r\n          <div className=\"login-or center\">\r\n            <span>or</span>\r\n            <div className=\"or-divider\"></div>\r\n          </div>\r\n          {this.state.lowerPartOfForm}\r\n          <div className=\"divider\"></div>\r\n          <div>\r\n            Already have an account?{\" \"}\r\n            <span\r\n              className=\"hand_Symbol\"\r\n              onClick={() => {\r\n                this.props.openModal(\"open\", <Login />);\r\n              }}\r\n            >\r\n              Log in\r\n            </span>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    auth: state.auth,\r\n  };\r\n}\r\nfunction mapDispatchToProps(dispatcher) {\r\n  return bindActionCreators(\r\n    {\r\n      openModal: openModal,\r\n      regAction: regAction,\r\n    },\r\n    dispatcher\r\n  );\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\r\n\r\nfunction SignupInputFields(props) {\r\n  return (\r\n    <div className=\"sign-up-wrapper\">\r\n      <div className=\"col m12\">\r\n        <div className=\"input-field\" id=\"email\">\r\n          <div className=\"form-label \">Email</div>\r\n          <input type=\"text\" placeholder=\"Emai\" onChange={props.changeEmail} />\r\n        </div>\r\n      </div>\r\n      <div className=\"col m12\">\r\n        <div className=\"input-field\" id=\"password\">\r\n          <div className=\"form-label \">Password</div>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            onChange={props.changePassword}\r\n          />\r\n        </div>\r\n        <div className=\"col m12\">\r\n          <button type=\"submit\" className=\"btn red accent-2\">\r\n            SignUp\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}