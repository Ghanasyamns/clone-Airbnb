{"version":3,"sources":["pages/payementSuccess/PaymentSuccess.js"],"names":["library","add","faLongArrowAltRight","PaymentSuccess","state","reservationDetails","venueData","waititng","currentDate","date","moment","console","log","a","stripeToken","this","props","match","params","token","auth","data","successUrl","window","apiHost","axios","post","successResp","setState","userData","rd","vd","className","icon","size","color","diffDays","location","email","format","checkIn","checkOut","title","details","pricePerNight","totalPrice","to","src","imageUrl","alt","Component","connect"],"mappings":"wTAWAA,IAAQC,IAAIC,K,IACNC,E,4MACJC,MAAQ,CAAEC,mBAAoB,GAAIC,UAAW,GAAIC,UAAU,G,EAkB3DC,YAAc,WACZ,IAAMC,EAAOC,MACbC,QAAQC,IAAIH,I,8FAnBd,oCAAAI,EAAA,6DACQC,EAAcC,KAAKC,MAAMC,MAAMC,OAAOJ,YACtCK,EAAQJ,KAAKC,MAAMI,KAAKD,MACxBE,EAAO,CACXP,cACAK,SAGIG,EARR,UAQwBC,OAAOC,QAR/B,6BAS4BC,IAAMC,KAAKJ,EAAYD,GATnD,OASQM,EATR,OAWEZ,KAAKa,SAAS,CACZvB,mBAAoBsB,EAAYN,KAAKhB,mBACrCwB,SAAUF,EAAYN,KAAKQ,SAC3BtB,UAAU,IAdd,gD,0EAqBA,WACE,IAAMuB,EAAKf,KAAKX,MAAMC,mBAChB0B,EAAKD,EAAGxB,UAEd,OAAIS,KAAKX,MAAMG,SACN,cAAC,IAAD,IAGP,sBAAKyB,UAAU,0BAAf,UACE,oBAAIA,UAAU,iBAAd,4BACA,sBAAKA,UAAU,gCAAf,UACE,sBAAKA,UAAU,wBAAf,UACE,cAAC,IAAD,CACEC,KAAK,uBACLC,KAAK,KACLC,MAAM,YAJV,cAMcL,EAAGM,SANjB,cAMsCL,EAAGM,SACvC,sBAAKL,UAAU,cAAf,UACE,8CAAiBjB,KAAKX,MAAMyB,SAASS,SACrC,0CAAa5B,MAAS6B,OAAO,gCAGjC,sBAAKP,UAAU,uBAAf,UACE,qBAAKA,UAAU,SAAf,SACE,sBAAKA,UAAU,eAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,qBAAKA,UAAU,OAAf,sBACA,qBAAKA,UAAU,QAAf,0BAEF,sBAAKA,UAAU,gBAAf,UACE,qBAAKA,UAAU,OAAf,SACGtB,IAAOoB,EAAGU,SAASD,OAAO,kBAE7B,qBAAKP,UAAU,QAAf,SACGtB,IAAOoB,EAAGW,UAAUF,OAAO,qBAGhC,qBAAKP,UAAU,qBAAf,SAAqCD,EAAGW,QACxC,qBAAKV,UAAU,kBAAf,SAAkCD,EAAGY,eAIzC,qBAAKX,UAAU,SAAf,SACE,sBAAKA,UAAU,eAAf,UACE,sBAAKA,UAAU,wBAAf,UACE,qBAAKA,UAAU,uBAAf,qBACA,sBAAKA,UAAU,cAAf,UACE,sBAAKA,UAAU,OAAf,mBACIF,EAAGc,cADP,MACyBd,EAAGM,SAD5B,WAGA,sBAAKJ,UAAU,QAAf,mBAAyBF,EAAGe,iBAE9B,sBAAKb,UAAU,cAAf,UACE,qBAAKA,UAAU,OAAf,sBACA,qBAAKA,UAAU,QAAf,wBAEF,sBAAKA,UAAU,oBAAf,UACE,qBAAKA,UAAU,OAAf,mBACA,sBAAKA,UAAU,QAAf,mBAAyBF,EAAGe,oBAGhC,sBAAKb,UAAU,cAAf,qFAEa,cAAC,IAAD,CAAMc,GAAG,WAAT,0BAFb,OAIA,qBAAKd,UAAU,qBAAf,SACE,qBAAKe,IAAKhB,EAAGiB,SAAUC,IAAI,2B,GA1FhBC,aAyGdC,uBALf,SAAyB/C,GACvB,MAAO,CACLgB,KAAMhB,EAAMgB,QAGD+B,CAAyBhD","file":"static/js/15.9c57a6bb.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./PaymentSuccess.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { faLongArrowAltRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport axios from \"axios\";\r\nimport Spinner from \"./../../utility/Spinner/Spinner\";\r\nimport moment from \"moment\";\r\nlibrary.add(faLongArrowAltRight);\r\nclass PaymentSuccess extends Component {\r\n  state = { reservationDetails: {}, venueData: {}, waititng: true };\r\n  async componentDidMount() {\r\n    const stripeToken = this.props.match.params.stripeToken;\r\n    const token = this.props.auth.token;\r\n    const data = {\r\n      stripeToken,\r\n      token,\r\n    };\r\n\r\n    const successUrl = `${window.apiHost}/payment/success`;\r\n    const successResp = await axios.post(successUrl, data);\r\n\r\n    this.setState({\r\n      reservationDetails: successResp.data.reservationDetails,\r\n      userData: successResp.data.userData,\r\n      waititng: false,\r\n    });\r\n  }\r\n  currentDate = () => {\r\n    const date = moment();\r\n    console.log(date);\r\n  };\r\n  render() {\r\n    const rd = this.state.reservationDetails;\r\n    const vd = rd.venueData;\r\n\r\n    if (this.state.waititng) {\r\n      return <Spinner />;\r\n    }\r\n    return (\r\n      <div className=\"reservation-success row\">\r\n        <h1 className=\"col m12 center\">Start Packing!</h1>\r\n        <div className=\"resv-details col s8 offset-s2\">\r\n          <div className=\"confirmed col m12 row\">\r\n            <FontAwesomeIcon\r\n              icon=\"long-arrow-alt-right\"\r\n              size=\"1x\"\r\n              color=\"#ED0000\"\r\n            />\r\n            Confirmed: {rd.diffDays} nights in {vd.location}\r\n            <div className=\"header-text\">\r\n              <div>Booked by: {this.state.userData.email}</div>\r\n              <div>Time : {moment().format(\"DD/MM/YYYY, h:mm:ss\")}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"confirmed-detail row\">\r\n            <div className=\"col m5\">\r\n              <div className=\"bordered col\">\r\n                <div className=\"col m12 upper\">\r\n                  <div className=\"left\">Check in</div>\r\n                  <div className=\"right\">Check out</div>\r\n                </div>\r\n                <div className=\"col m12 lower\">\r\n                  <div className=\"left\">\r\n                    {moment(rd.checkIn).format(\"MMM Do, YYYY\")}\r\n                  </div>\r\n                  <div className=\"right\">\r\n                    {moment(rd.checkOut).format(\"MMM Do, YYYY\")}\r\n                  </div>\r\n                </div>\r\n                <div className=\"col m12 title-text\">{vd.title}</div>\r\n                <div className=\"col m12 details\">{vd.details}</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col m7\">\r\n              <div className=\"bordered col\">\r\n                <div className=\"col m12 upper charges\">\r\n                  <div className=\"charges-text col m12\">Charges</div>\r\n                  <div className=\"row col m12\">\r\n                    <div className=\"left\">\r\n                      ₹{rd.pricePerNight} x {rd.diffDays} days\r\n                    </div>\r\n                    <div className=\"right\">₹{rd.totalPrice}</div>\r\n                  </div>\r\n                  <div className=\"row col m12\">\r\n                    <div className=\"left\">Discount</div>\r\n                    <div className=\"right\">₹0</div>\r\n                  </div>\r\n                  <div className=\"row col m12 total\">\r\n                    <div className=\"left\">TOTAL</div>\r\n                    <div className=\"right\">₹{rd.totalPrice}</div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col m12 row\">\r\n                  To review or make changes to your reservation in the future,\r\n                  visit your <Link to=\"/account\">account page</Link>.\r\n                </div>\r\n                <div className=\"col m12 resv-image\">\r\n                  <img src={vd.imageUrl} alt=\"..\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    auth: state.auth,\r\n  };\r\n}\r\nexport default connect(mapStateToProps)(PaymentSuccess);\r\n"],"sourceRoot":""}