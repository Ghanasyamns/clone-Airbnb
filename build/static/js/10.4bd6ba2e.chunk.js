(this["webpackJsonpclone-airbnb"]=this["webpackJsonpclone-airbnb"]||[]).push([[10],{140:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(27),c=n(26),i=(n(90),n(59));var o=function(){return{type:"LOGOUT"}},r=n(63),l=n(69),d=n(3);t.default=function(e){var t=Object(a.e)((function(e){return e.auth.email})),n=Object(a.e)((function(e){return e.auth.token})),j=Object(a.d)();Object(s.useEffect)((function(){j(Object(i.a)("closed",""))}),[j,n]);var u="transparent";return"/"!==e.location.pathname&&(u="#e08362"),Object(d.jsx)("div",{className:"container-fluid nav",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("nav",{className:u,children:Object(d.jsxs)("div",{className:"nav-wrapper",children:[Object(d.jsx)(c.b,{to:"/",className:"logo left",children:"airbnb"}),Object(d.jsxs)("ul",{id:"nav-mobile",className:"right",children:[Object(d.jsx)("li",{children:Object(d.jsx)(c.b,{to:"/",children:"English (US)"})}),Object(d.jsx)("li",{children:Object(d.jsx)(c.b,{to:"/",children:"\u20b9 INR"})}),Object(d.jsx)("li",{children:Object(d.jsx)(c.b,{to:"/",children:"Become a host"})}),Object(d.jsx)("li",{children:Object(d.jsx)(c.b,{to:"/",children:"Help"})}),t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("li",{className:"login-signup",children:Object(d.jsxs)(c.b,{to:"/account",children:[" ",t]})}),Object(d.jsx)("li",{onClick:function(){j(o())},className:"login-signup",children:Object(d.jsx)(c.b,{to:"/",children:" Logout"})})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("li",{className:"login-signup",onClick:function(){j(Object(i.a)("open",Object(d.jsx)(l.a,{})))},children:["Sign up"," "]}),Object(d.jsx)("li",{className:"login-signup",onClick:function(){j(Object(i.a)("open",Object(d.jsx)(r.a,{})))},children:"Log in"})]})]})]})})})})}},59:function(e,t,n){"use strict";t.a=function(e,t){return{type:"OPEN_MODAL",payload:{openClose:e,content:t}}}},63:function(e,t,n){"use strict";var s=n(55),a=n.n(s),c=n(56),i=n(62),o=n(0),r=(n(72),n(27)),l=n(59),d=n(69),j=n(57),u=n.n(j),b=n(61),h=n.n(b),p=n(64),O=n(3);t.a=function(e){var t=Object(r.d)(),n=Object(o.useState)(""),s=Object(i.a)(n,2),j=s[0],b=s[1],m=Object(o.useState)(""),x=Object(i.a)(m,2),g=x[0],f=x[1],v=function(){var e=Object(c.a)(a.a.mark((function e(n){var s,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),s="".concat(window.apiHost,"/users/login"),c={email:j,password:g},e.next=5,u.a.post(s,c);case 5:"badPass"===(i=e.sent).data.msg?h()({title:"Invaid Password",text:"The Password you provided is wrong",icon:"error"}):"noEmail"===i.data.msg?h()({title:"Invalid Email",text:"The Email you provided is not registered",icon:"error"}):"loggedIn"===i.data.msg&&(h()({title:"Success",icon:"success"}),t(Object(p.a)(i.data)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"login-form",children:Object(O.jsxs)("form",{onSubmit:v,children:[Object(O.jsx)("button",{className:"facebook-login",children:"Connect With Facebook"}),Object(O.jsx)("button",{className:"google-login",children:"Connect With Google"}),Object(O.jsxs)("div",{className:"login-or center",children:[Object(O.jsx)("span",{children:"or"}),Object(O.jsx)("div",{className:"or-divider"})]}),Object(O.jsx)("input",{type:"text",className:"browser-default",placeholder:"Email address",onChange:function(e){return b(e.target.value)}}),Object(O.jsx)("input",{type:"password",className:"browser-default",placeholder:"Password",onChange:function(e){return f(e.target.value)}}),Object(O.jsx)("button",{type:"submit",className:"sign-up-button",children:"Login"}),Object(O.jsx)("div",{className:"divider"}),Object(O.jsxs)("div",{children:["Don't have an account?",Object(O.jsx)("span",{className:"hand_Symbol",onClick:function(){t(Object(l.a)("open",Object(O.jsx)(d.a,{})))},children:"Sign up"})]})]})})}},64:function(e,t,n){"use strict";t.a=function(e){return{type:"REGISTER_ACTION",payload:e}}},69:function(e,t,n){"use strict";var s=n(55),a=n.n(s),c=n(56),i=n(13),o=n(14),r=n(16),l=n(15),d=n(57),j=n.n(d),u=n(0),b=n(27),h=n(9),p=n(59),O=n(64),m=n(63),x=n(61),g=n.n(x),f=n(3),v=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).changeEmail=function(t){e.setState({email:t.target.value})},e.changePassword=function(t){e.setState({password:t.target.value})},e.showInputs=function(){e.setState({lowerPartOfForm:Object(f.jsx)(N,{changeEmail:e.changeEmail,changePassword:e.changePassword})})},e.submitLogin=function(){var t=Object(c.a)(a.a.mark((function t(n){var s,c,i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),s="".concat(window.apiHost,"/users/signup"),c={email:e.state.email,password:e.state.password},t.next=5,j.a.post(s,c);case 5:i=t.sent,o=i.data.token,console.log(o),"userExists"===i.data.msg?g()({title:"Email Exists",text:"The Email you provided is already registered",icon:"error"}):"invalidData"===i.data.msg?g()({title:"Invalid Data",text:"Please provide valid Email and password",icon:"error"}):"userAdded"===i.data.msg&&(g()({title:"Success!",text:"Your account is created ",icon:"success"}),e.props.regAction(i.data));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={lowerPartOfForm:Object(f.jsx)("button",{type:"button",onClick:e.showInputs,className:"sign-up-button",children:"Sign up with email"})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return console.log(this.props.auth),Object(f.jsx)("div",{className:"login-form",children:Object(f.jsxs)("form",{onSubmit:this.submitLogin,children:[Object(f.jsx)("button",{className:"facebook-login",children:"Connect With Facebook"}),Object(f.jsx)("button",{className:"google-login",children:"Connect With Google"}),Object(f.jsxs)("div",{className:"login-or center",children:[Object(f.jsx)("span",{children:"or"}),Object(f.jsx)("div",{className:"or-divider"})]}),this.state.lowerPartOfForm,Object(f.jsx)("div",{className:"divider"}),Object(f.jsxs)("div",{children:["Already have an account?"," ",Object(f.jsx)("span",{className:"hand_Symbol",onClick:function(){e.props.openModal("open",Object(f.jsx)(m.a,{}))},children:"Log in"})]})]})})}}]),n}(u.Component);function N(e){return Object(f.jsxs)("div",{className:"sign-up-wrapper",children:[Object(f.jsx)("div",{className:"col m12",children:Object(f.jsxs)("div",{className:"input-field",id:"email",children:[Object(f.jsx)("div",{className:"form-label ",children:"Email"}),Object(f.jsx)("input",{type:"text",placeholder:"Emai",onChange:e.changeEmail})]})}),Object(f.jsxs)("div",{className:"col m12",children:[Object(f.jsxs)("div",{className:"input-field",id:"password",children:[Object(f.jsx)("div",{className:"form-label ",children:"Password"}),Object(f.jsx)("input",{type:"password",placeholder:"Password",onChange:e.changePassword})]}),Object(f.jsx)("div",{className:"col m12",children:Object(f.jsx)("button",{type:"submit",className:"btn red accent-2",children:"SignUp"})})]})]})}t.a=Object(b.b)((function(e){return{auth:e.auth}}),(function(e){return Object(h.b)({openModal:p.a,regAction:O.a},e)}))(v)},72:function(e,t,n){},90:function(e,t,n){}}]);
//# sourceMappingURL=10.4bd6ba2e.chunk.js.map