{"version":3,"sources":["pages/SinglePageVenues/Point.js","UtilityFunctions/loadScript.js","pages/SinglePageVenues/SingleFullVenue.js","actions/openModal.js","pages/Login/Login.js","actions/regAction.js","pages/Login/SignUp.js"],"names":["Point","props","descObj","pointDesc","find","point","pointTitle","className","text","x","scriptUrl","Promise","resolve","reject","script","document","createElement","type","src","onload","console","log","getElementsByTagName","appendChild","SingleFullVenue","state","singleVenue","points","changeCheckIn","e","setState","checkIn","target","value","chageCheckout","checkout","changeNumberOfGuests","numberOfGuests","reserveNow","a","startDay","moment","endDay","diffDays","diff","swal","title","icon","pricePerNight","totalPrice","stripePublicKey","loadScript","stripe","window","Stripe","stripeSessionUrl","apiHost","data","venueData","checkOut","token","auth","numberOfGuest","currency","axios","post","stripeResp","redirectToCheckout","sessionId","id","then","result","vid","this","match","params","url","get","getData","singlevenue","pointUrl","axiosPoint","split","map","i","venue","imageUrl","alt","location","guests","details","amenities","rating","onChange","onClick","openModal","Login","Component","connect","dispatch","bindActionCreators","openClose","content","payload","useDispatch","useState","email","setEmail","password","setPassword","submitLogin","preventDefault","resp","msg","regAction","onSubmit","placeholder","regobj","SignUp","changeEmail","changePassword","showInputs","lowerPartOfForm","SignupInputFields","dispatcher"],"mappings":"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","file":"static/js/9.25a22691.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Point(props) {\r\n  const descObj = props.pointDesc.find(\r\n    (point) => point.pointTitle === props.point\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"point-title\">{props.point}</div>\r\n      <div className=\"point-desc\">{descObj.text}</div>\r\n    </div>\r\n  );\r\n}\r\nexport default Point;\r\n","function x(scriptUrl) {\r\n  return new Promise((resolve, reject) => {\r\n    const script = document.createElement(\"script\");\r\n    script.type = \"text/javascript\";\r\n    script.src = scriptUrl;\r\n    script.onload = () => {\r\n      console.log(\"script loading\");\r\n      resolve();\r\n    };\r\n    document.getElementsByTagName(\"head\")[0].appendChild(script);\r\n    console.log(\"the script has been added to the head\");\r\n  });\r\n}\r\n\r\nexport default x;\r\n","import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport \"./SingleFullVenue.css\";\r\nimport Point from \"./Point\";\r\nimport { connect } from \"react-redux\";\r\nimport openModal from \"./../../actions/openModal\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport Login from \"./../Login/Login\";\r\nimport moment from \"moment\";\r\nimport swal from \"sweetalert\";\r\n\r\nimport loadScript from \"./../../UtilityFunctions/loadScript\";\r\nclass SingleFullVenue extends Component {\r\n  state = { singleVenue: {}, points: [] };\r\n  async componentDidMount() {\r\n    const vid = this.props.match.params.vid;\r\n    const url = `${window.apiHost}/venue/${vid}`;\r\n    const getData = await axios.get(url);\r\n    const singlevenue = getData.data;\r\n    const pointUrl = `${window.apiHost}/points/get`;\r\n    const axiosPoint = await axios.get(pointUrl);\r\n    const points = singlevenue.points.split(\",\").map((point, i) => {\r\n      return <Point pointDesc={axiosPoint.data} point={point} key={i} />;\r\n    });\r\n\r\n    this.setState({\r\n      singleVenue: singlevenue,\r\n      points,\r\n    });\r\n  }\r\n  changeCheckIn = (e) => {\r\n    this.setState({\r\n      checkIn: e.target.value,\r\n    });\r\n  };\r\n  chageCheckout = (e) => {\r\n    this.setState({\r\n      checkout: e.target.value,\r\n    });\r\n  };\r\n  changeNumberOfGuests = (e) => {\r\n    this.setState({\r\n      numberOfGuests: e.target.value,\r\n    });\r\n  };\r\n  reserveNow = async () => {\r\n    const startDay = moment(this.state.checkIn);\r\n\r\n    const endDay = moment(this.state.checkout);\r\n    const diffDays = endDay.diff(startDay, \"days\");\r\n\r\n    if (diffDays < 1) {\r\n      swal({\r\n        title: \"Check out date must be after Check in date\",\r\n        icon: \"error\",\r\n      });\r\n    } else {\r\n      //diff days is a valid number\r\n      const pricePerNight = this.state.singleVenue.pricePerNight;\r\n      const totalPrice = pricePerNight * diffDays;\r\n      const scriptUrl = \"https://js.stripe.com/v3\";\r\n      const stripePublicKey =\r\n        \"pk_test_5198HtPL5CfCPYJ3X8TTrO06ChWxotTw6Sm2el4WkYdrfN5Rh7vEuVguXyPrTezvm3ntblRX8TpjAHeMQfHkEpTA600waD2fMrT\";\r\n      //moving the below code to its own module\r\n      // await new Promise((resolve, reject) => {\r\n      //   const script = document.createElement(\"script\");\r\n      //   script.type = \"text/javascript\";\r\n      //   script.src = scriptUrl;\r\n      //   script.onload = () => {\r\n      //     console.log(\"scipt loading\");\r\n      //     resolve();\r\n      //   };\r\n      //   document.getElementsByTagName(\"head\")[0].appendChild(script);\r\n      //   console.log(\"the scipt has been added to the head\");\r\n      // });\r\n      await loadScript(scriptUrl);\r\n\r\n      const stripe = window.Stripe(stripePublicKey);\r\n      const stripeSessionUrl = `${window.apiHost}/payment/create-session`;\r\n      const data = {\r\n        venueData: this.state.singleVenue,\r\n        totalPrice,\r\n        diffDays,\r\n        pricePerNight,\r\n        checkIn: this.state.checkIn,\r\n        checkOut: this.state.checkout,\r\n        token: this.props.auth.token,\r\n        numberOfGuest: this.state.numberOfGuest,\r\n        currency: \"INR\",\r\n      };\r\n      const stripeResp = await axios.post(stripeSessionUrl, data);\r\n      stripe\r\n        .redirectToCheckout({\r\n          sessionId: stripeResp.data.id,\r\n        })\r\n        .then((result) => {\r\n          console.log(result);\r\n        });\r\n    }\r\n  };\r\n  render() {\r\n    const venue = this.state.singleVenue;\r\n\r\n    return (\r\n      <div className=\"row single-venue\">\r\n        <div className=\"col s12 center\">\r\n          <img src={venue.imageUrl} alt=\"singimg\" />\r\n        </div>\r\n        <div className=\"col s8 location-details offset-s2\">\r\n          <div className=\"col s8 left-details\">\r\n            <div className=\"location\">{venue.location}</div>\r\n            <div className=\"title\">{venue.title}</div>\r\n            <div className=\"guests\">{venue.guests} guests</div>\r\n            <div className=\"divider\"></div>\r\n            {this.state.points}\r\n\r\n            <div className=\"details\">{venue.details}</div>\r\n            <div className=\"amenities\">{venue.amenities}</div>\r\n          </div>\r\n          <div className=\"col s4 right-details\">\r\n            <div className=\"price-per-day\">\r\n              ₹{venue.pricePerNight} <span>per day</span>\r\n            </div>\r\n            <div className=\"rating\">{venue.rating} </div>\r\n            <div className=\"col s6\">\r\n              CHeck-In\r\n              <input type=\"date\" onChange={this.changeCheckIn} />\r\n            </div>\r\n            <div className=\"col s6\">\r\n              CHeck-Out\r\n              <input type=\"date\" onChange={this.chageCheckout} />\r\n            </div>\r\n            <div className=\"col s12\">\r\n              <select\r\n                onChange={this.changeNumberOfGuests}\r\n                className=\"browser-default\"\r\n              >\r\n                <option value=\"1\">1 Guest</option>\r\n                <option value=\"2\">2 Guest</option>\r\n                <option value=\"3\">3 Guest</option>\r\n                <option value=\"4\">4 Guest</option>\r\n                <option value=\"5\">5 Guest</option>\r\n                <option value=\"6\">6 Guest</option>\r\n                <option value=\"7\">7 Guest</option>\r\n                <option value=\"8\">8 Guest</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"col s12 center\">\r\n              {this.props.auth.token ? (\r\n                <button onClick={this.reserveNow} className=\"btn red accent-2\">\r\n                  Reserve\r\n                </button>\r\n              ) : (\r\n                <div>\r\n                  You must be{\" \"}\r\n                  <span\r\n                    className=\"login-text\"\r\n                    onClick={() => {\r\n                      this.props.openModal(\"open\", <Login />);\r\n                    }}\r\n                  >\r\n                    {\" \"}\r\n                    login\r\n                  </span>{\" \"}\r\n                  to reserve\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    auth: state.auth,\r\n  };\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators(\r\n    {\r\n      openModal,\r\n    },\r\n    dispatch\r\n  );\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SingleFullVenue);\r\n","function x(openClose, content) {\r\n  return {\r\n    type: \"OPEN_MODAL\",\r\n    payload: {\r\n      openClose,\r\n      content,\r\n    },\r\n  };\r\n}\r\nexport default x;\r\n","import React, { useState } from \"react\";\r\nimport \"./Login.css\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport openModal from \"../../actions/openModal\";\r\nimport SignUp from \"./SignUp\";\r\nimport axios from \"axios\";\r\nimport swal from \"sweetalert\";\r\nimport regAction from \"../../actions/regAction\";\r\nfunction Login(props) {\r\n  const dispatch = useDispatch();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  //can access to the store directly\r\n  // const store = useStore();\r\n  // console.log(store.getState());\r\n  const submitLogin = async (e) => {\r\n    e.preventDefault();\r\n    ///get axios request\r\n    const url = `${window.apiHost}/users/login`;\r\n    const data = {\r\n      email: email,\r\n      password: password,\r\n    };\r\n    const resp = await axios.post(url, data);\r\n    // badPass = valid username, but wrong passwrod\r\n    // -- noEmail = email is not registered\r\n    if (resp.data.msg === \"badPass\") {\r\n      swal({\r\n        title: \"Invaid Password\",\r\n        text: \"The Password you provided is wrong\",\r\n        icon: \"error\",\r\n      });\r\n    } else if (resp.data.msg === \"noEmail\") {\r\n      swal({\r\n        title: \"Invalid Email\",\r\n        text: \"The Email you provided is not registered\",\r\n        icon: \"error\",\r\n      });\r\n    } else if (resp.data.msg === \"loggedIn\") {\r\n      swal({\r\n        title: \"Success\",\r\n\r\n        icon: \"success\",\r\n      });\r\n      //we call our register action to update our auth reducer\r\n      dispatch(regAction(resp.data));\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"login-form\">\r\n      <form onSubmit={submitLogin}>\r\n        <button className=\"facebook-login\">Connect With Facebook</button>\r\n        <button className=\"google-login\">Connect With Google</button>\r\n        <div className=\"login-or center\">\r\n          <span>or</span>\r\n          <div className=\"or-divider\"></div>\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          className=\"browser-default\"\r\n          placeholder=\"Email address\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          className=\"browser-default\"\r\n          placeholder=\"Password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <button type=\"submit\" className=\"sign-up-button\">\r\n          Login\r\n        </button>\r\n        <div className=\"divider\"></div>\r\n        <div>\r\n          Don't have an account?\r\n          <span\r\n            className=\"hand_Symbol\"\r\n            onClick={() => {\r\n              dispatch(openModal(\"open\", <SignUp />));\r\n            }}\r\n          >\r\n            Sign up\r\n          </span>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(Login);\r\nexport default Login;\r\n","function x(regobj) {\r\n  return {\r\n    type: \"REGISTER_ACTION\",\r\n    payload: regobj,\r\n  };\r\n}\r\nexport default x;\r\n","import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport openModal from \"../../actions/openModal\";\r\nimport regAction from \"../../actions/regAction\";\r\nimport Login from \"./Login\";\r\nimport swal from \"sweetalert\";\r\nclass SignUp extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      lowerPartOfForm: (\r\n        <button\r\n          type=\"button\"\r\n          onClick={this.showInputs}\r\n          className=\"sign-up-button\"\r\n        >\r\n          Sign up with email\r\n        </button>\r\n      ),\r\n    };\r\n  }\r\n  changeEmail = (e) => {\r\n    this.setState({\r\n      email: e.target.value,\r\n    });\r\n  };\r\n  changePassword = (e) => {\r\n    this.setState({\r\n      password: e.target.value,\r\n    });\r\n  };\r\n  showInputs = () => {\r\n    this.setState({\r\n      lowerPartOfForm: (\r\n        <SignupInputFields\r\n          changeEmail={this.changeEmail}\r\n          changePassword={this.changePassword}\r\n        />\r\n      ),\r\n    });\r\n  };\r\n  submitLogin = async (e) => {\r\n    e.preventDefault();\r\n    const url = `${window.apiHost}/users/signup`;\r\n    const data = {\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n    };\r\n    const resp = await axios.post(url, data);\r\n    const token = resp.data.token;\r\n    console.log(token);\r\n    ////////////////\r\n    //resp.data.msg could be\r\n    //invalidData\r\n    //userExists\r\n    //userAdded\r\n    if (resp.data.msg === \"userExists\") {\r\n      swal({\r\n        title: \"Email Exists\",\r\n        text: \"The Email you provided is already registered\",\r\n        icon: \"error\",\r\n      });\r\n    } else if (resp.data.msg === \"invalidData\") {\r\n      swal({\r\n        title: \"Invalid Data\",\r\n        text: \"Please provide valid Email and password\",\r\n        icon: \"error\",\r\n      });\r\n    } else if (resp.data.msg === \"userAdded\") {\r\n      swal({\r\n        title: \"Success!\",\r\n        text: \"Your account is created \",\r\n        icon: \"success\",\r\n      });\r\n      //we call reAction to update regReducer\r\n      this.props.regAction(resp.data);\r\n    }\r\n    // const url2 = `${window.apiHost}/users/token-check`;\r\n    // const resp2 = await axios.post(url2, { token });\r\n    // console.log(resp2.data);\r\n  };\r\n  render() {\r\n    console.log(this.props.auth);\r\n    return (\r\n      <div className=\"login-form\">\r\n        <form onSubmit={this.submitLogin}>\r\n          <button className=\"facebook-login\">Connect With Facebook</button>\r\n          <button className=\"google-login\">Connect With Google</button>\r\n          <div className=\"login-or center\">\r\n            <span>or</span>\r\n            <div className=\"or-divider\"></div>\r\n          </div>\r\n          {this.state.lowerPartOfForm}\r\n          <div className=\"divider\"></div>\r\n          <div>\r\n            Already have an account?{\" \"}\r\n            <span\r\n              className=\"hand_Symbol\"\r\n              onClick={() => {\r\n                this.props.openModal(\"open\", <Login />);\r\n              }}\r\n            >\r\n              Log in\r\n            </span>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    auth: state.auth,\r\n  };\r\n}\r\nfunction mapDispatchToProps(dispatcher) {\r\n  return bindActionCreators(\r\n    {\r\n      openModal: openModal,\r\n      regAction: regAction,\r\n    },\r\n    dispatcher\r\n  );\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\r\n\r\nfunction SignupInputFields(props) {\r\n  return (\r\n    <div className=\"sign-up-wrapper\">\r\n      <div className=\"col m12\">\r\n        <div className=\"input-field\" id=\"email\">\r\n          <div className=\"form-label \">Email</div>\r\n          <input type=\"text\" placeholder=\"Emai\" onChange={props.changeEmail} />\r\n        </div>\r\n      </div>\r\n      <div className=\"col m12\">\r\n        <div className=\"input-field\" id=\"password\">\r\n          <div className=\"form-label \">Password</div>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            onChange={props.changePassword}\r\n          />\r\n        </div>\r\n        <div className=\"col m12\">\r\n          <button type=\"submit\" className=\"btn red accent-2\">\r\n            SignUp\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}